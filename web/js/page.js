!function(){"use strict";function a(a){var b=a.nextElementSibling,c=0;if(b){var e=d.getComputedStyle(b);c=parseFloat(e.marginTop)||0}return c}function b(b,c){k.measure(function(){var d=b.getBoundingClientRect(),e=d.bottom-d.top,f=e%c,g=f>=.05?c-f+a(b):0;k.mutate(function(){b.style.marginBottom=""+g+"px"})})}function c(a){var c,e,f=parseFloat(d.getComputedStyle(a,":after").height)||24,g=a.children;for(c=0;c<g.length,e=g[c];c++)e.hasAttribute("data-reflow")&&b(e,f)}var d=window,e=d.document,f=e.documentElement,g=["Webkit","Moz","ms","O"],h=d.requestAnimationFrame,i=d.cancelAnimationFrame,j=0;h&&i||g.forEach(function(a){a=a.toLowerCase(),h=h||d[a+"RequestAnimationFrame"],i=i||d[a+"CancelAnimationFrame"]||d[a+"CancelRequestAnimationFrame"]}),h&&i||(h=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-j));return j=b+c,d.setTimeout(function(){a(b+c)},c)},i=function(a){d.clearTimeout(a)});var k=function(){function a(){var a=this;a.reads=[],a.writes=[],a.raf=h.bind(d)}function b(a){a.scheduled||(a.scheduled=!0,a.raf(c.bind(null,a)))}function c(a){var c,d=a.writes,f=a.reads;try{e(f),e(d)}catch(g){c=g}if(a.scheduled=!1,(f.length||d.length)&&b(a),c){if(!a["catch"])throw c;a["catch"](c)}}function e(a){for(var b;b=a.shift();)b.fn.call(b.ctx)}function f(a,b){var c=a.indexOf(b);return!!~c&&!!a.splice(c,1)}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}a.prototype={constructor:a,measure:function(a,c){var d={fn:a,ctx:c};return this.reads.push(d),b(this),d},mutate:function(a,c){var d={fn:a,ctx:c};return this.writes.push(d),b(this),d},clear:function(a){return f(this.reads,a)||f(this.writes,a)},extend:function(a){if("object"!=typeof a)throw new Error("expected object");var b=Object.create(this);return g(b,a),b.fastdom=this,b.initialize&&b.initialize(),b},"catch":null};var i=d.fastdom=d.fastdom||new a;return i}();!function(a,b,c){function d(f,j){var k=arguments[2];void 0===k&&(k={}),f=f.toUpperCase();var l="charset"in k?k.charset:d.defaults.charset,m="cacheBurst"in k?k.cacheBurst:d.defaults.cacheBurst,n="mimeType"in k?k.mimeType:d.defaults.mimeType,o=k.data,p=[],q={};Object.keys(d.defaults.headers).forEach(function(a){q[a]=d.defaults.headers[a]}),Object.keys(k.headers||{}).forEach(function(a){q[a]=k.headers[a]}),g(o)&&(Object.keys(o).forEach(function(a){var b=encodeURIComponent(a),c=o[a];Array.isArray(c)?c.forEach(function(a){p.push(b+"="+encodeURIComponent(a))}):p.push(b+"="+encodeURIComponent(c))}),"GET"===f?o=null:(o=h(p),p=[])),"string"==typeof o&&("GET"===f?(p.push(o),o=null):q[a]="application/x-www-form-urlencoded"),k.json&&g(k.json)&&(o=JSON.stringify(k.json),q[a]=b),a in q&&(q[a]+="; charset="+l),m&&"GET"===f&&p.push(m+"="+Date.now()),k.emulateHTTP&&c.indexOf(f)>1&&(p.push(k.emulateHTTP+"="+f),q["X-Http-Method-Override"]=f,f="POST"),p.length&&(j+=(~j.indexOf("?")?"&":"?")+h(p));var r=new XMLHttpRequest,s=new e(function(a,b){var c=function(a){return function(){b(new Error(a))}};r.onabort=c("abort"),r.onerror=c("error"),r.ontimeout=c("timeout"),r.onreadystatechange=function(){if(4===r.readyState){var c=1223===r.status?204:r.status,d=r.responseText;c>=200&&300>c||304===c?a(d):b(new Error(r.statusText))}},r.open(f,j,!0),r.timeout=k.timeout||d.defaults.timeout,Object.keys(q).forEach(function(a){var b=q[a];null!=b&&r.setRequestHeader(a,String(b))}),n&&(n in i?(r.responseType=n,n=i[n]):r.overrideMimeType&&r.overrideMimeType(n)),r.send(o)});return s[0]=r,s}var e=window.Promise,f=Object.prototype.toString,g=function(a){return a&&"[object Object]"===f.call(a)},h=function(a){return a.join("&").replace(/%20/g,"+")},i={json:b};if(c.forEach(function(a){d[a.toLowerCase()]=function(b,c){return d(a,b,c)}}),d.serialize=function(a){var b,c,d,e,f,g={};a="form"in a?[a]:"elements"in a?a.elements:[],b=0,c=a.length;for(var h;c>b;){h=a[b++];var i=h.name;if(!h.disabled&&i)switch(h.type){case"select-multiple":g[i]=[];case"select-one":f=h.options,d=0,e=f.length;for(var j;e>d;)j=f[d++],j.selected&&(i in g?g[i].push(j.value):g[i]=j.value);d=e=f=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"checkbox":if(h.checked&&g[i]){"string"==typeof g[i]&&(g[i]=[g[i]]),g[i].push(h.value);break}case"radio":if(!h.checked)break;default:g[i]=h.value}}return g},d.defaults={timeout:15e3,cacheBurst:"_",charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},e)return d;throw new Error("In order to use XHR you have to include a Promise polyfill")}("Content-Type","application/json",["GET","POST"]);var l=/^(#?[\w-]+|\.[\w-.]+)$/,m=/\./g,n=[].slice,o=function(a,b,c){if(c=c||document,!a)return c.querySelector(b);if(l.test(b))switch(b[0]){case"#":return[document.getElementById(b.substr(1))];case".":return n.call(c.getElementsByClassName(b.substr(1).replace(m," ")));default:return n.call(c.getElementsByTagName(b))}return n.call(c.querySelectorAll(b))},p=o.bind(null,!1),q=(o.bind(null,!0),function(){function a(a){var c,f,g=b(a.target);if(g){if("form"===g.nodeName.toLowerCase()&&"submit"!==a.type)return;c=g.getAttribute("data-observe"),d.call(e,c)||(e[c]={}),e[c].triggered=!0,f=e[c].fn,f&&f.call(g,a,g)}}function b(a){if("closest"in a)return a.closest("[data-observe]");for(;a&&a!==f;){if(a.hasAttribute("data-observe"))return a;a=a.parentNode}return null}var c={},d={}.hasOwnProperty,e={};return c.bind=function(a,b){e[a]={triggered:!1,fn:b}},c.unbind=function(a){d.call(e,a)&&delete e[a]},c.isTriggered=function(a){return d.call(e,a)&&e[a].triggered},c.disable=function(){f.removeEventListener("click",a,!1),f.removeEventListener("submit",a,!1)},f.addEventListener("click",a,!1),f.addEventListener("submit",a,!1),c}()),r=function(){function a(){return d||(d=e.createElement("div"),d.style.cssText="position:absolute;width:1rem;height:1rem;left;-1rem;top:-1rem;",h&&(d.style[h]="font-size 1ms linear"),f.getElementsByTagName("body")[0].appendChild(d)),d}function b(){var b=a().getBoundingClientRect();return b.bottom-b.top}function c(a){i=b();var c,d;for(d in k)k.hasOwnProperty(d)&&(c=k[d].fn,c&&c.call(null,i))}var d,g,h,i,j={},k={},l={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(var m in l)if(void 0!==f.style[m]){g=l[m],h=m;break}return j.bind=function(a,b){k[a]={fn:b}},j.unbind=function(a){k.hasOwnProperty(a)&&delete k[a]},j.disable=function(){g&&d&&d.removeEventListener(g,c,!1)},j.enable=function(){g&&d&&d.addEventListener(g,c,!1)},j.fontSize=function(){return i},i=b(),g&&a().addEventListener(g,c,!1),j}(),s=function(){function a(){return d.orientation&&void 0!==d.orientation?Math.abs(+d.orientation)%180:0}function b(){var a,b;for(a in f)f.hasOwnProperty(a)&&(b=f[a].fn,b&&b.call(null,h,i))}function c(c){var e=d.innerWidth,f=d.innerHeight;if(e==h&&f==i)return c.preventDefault(),void c.stopImmediatePropagation();h=e,i=f;var g=a();return g!==j?(clearTimeout(k),b(),j=g):(clearTimeout(k),k=setTimeout(b,100))}var e={},f={},g="resize",h=d.innerWidth,i=d.innerHeight,j=a(),k=null;return e.bind=function(a,b){f[a]={fn:b}},e.unbind=function(a){f.hasOwnProperty(a)&&delete f[a]},e.disable=function(){d.removeEventListener(g,c,!1)},e.enable=function(){d.addEventListener(g,c,!1)},e.size=function(){return{width:d.innerWidth,height:d.innerHeight}},d.addEventListener(g,b,!1),e}(),t=p(".content"),u=t.clientWidth;c(t),q.bind("ajax",function(a,b){a.stopPropagation(),a.preventDefault()}),r.bind("page",function(){c(t)}),s.bind("rythmn",function(){k.measure(function(){var a=t.clientWidth;a!=u&&(c(t),u=a)})})}();