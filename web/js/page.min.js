!function(){"use strict";function a(a,b){var c=b||0,d=Math.pow(10,c),e=+(c?a*d:a).toFixed(8),f=Math.floor(e),g=e-f,h=1e-8,i=g>.5-h&&.5+h>g?f%2==0?f:f+1:Math.round(e);return c?i/d:i}function b(b,c){var d=b.getBoundingClientRect(),e=d.bottom-d.top,f=e%c;b.style.marginBottom=""+a(c-f)+"px"}var c=window,d=c.document,e=d.documentElement,f=function(){function a(a){var c,e,g=b(a.target);if(g){if("form"===g.nodeName.toLowerCase()&&"submit"!==a.type)return;c=g.getAttribute("data-observe"),d.call(f,c)||(f[c]={}),f[c].triggered=!0,e=f[c].fn,e&&e.call(g,a,g)}}function b(a){if("closest"in a)return a.closest("[data-observe]");for(;a&&a!==e;){if(a.hasAttribute("data-observe"))return a;a=a.parentNode}return null}var c={},d={}.hasOwnProperty,f={};return c.bind=function(a,b){f[a]={triggered:!1,fn:b}},c.unbind=function(a){d.call(f,a)&&delete f[a]},c.isTriggered=function(a){return d.call(f,a)&&f[a].triggered},c.disable=function(){e.removeEventListener("click",a,!1),e.removeEventListener("submit",a,!1)},e.addEventListener("click",a,!1),e.addEventListener("submit",a,!1),c}();!function(a,b,c){function d(f,j){var k=arguments[2];void 0===k&&(k={}),f=f.toUpperCase();var l="charset"in k?k.charset:d.defaults.charset,m="cacheBurst"in k?k.cacheBurst:d.defaults.cacheBurst,n="mimeType"in k?k.mimeType:d.defaults.mimeType,o=k.data,p=[],q={};Object.keys(d.defaults.headers).forEach(function(a){q[a]=d.defaults.headers[a]}),Object.keys(k.headers||{}).forEach(function(a){q[a]=k.headers[a]}),g(o)&&(Object.keys(o).forEach(function(a){var b=encodeURIComponent(a),c=o[a];Array.isArray(c)?c.forEach(function(a){p.push(b+"="+encodeURIComponent(a))}):p.push(b+"="+encodeURIComponent(c))}),"GET"===f?o=null:(o=h(p),p=[])),"string"==typeof o&&("GET"===f?(p.push(o),o=null):q[a]="application/x-www-form-urlencoded"),k.json&&g(k.json)&&(o=JSON.stringify(k.json),q[a]=b),a in q&&(q[a]+="; charset="+l),m&&"GET"===f&&p.push(m+"="+Date.now()),k.emulateHTTP&&c.indexOf(f)>1&&(p.push(k.emulateHTTP+"="+f),q["X-Http-Method-Override"]=f,f="POST"),p.length&&(j+=(~j.indexOf("?")?"&":"?")+h(p));var r=new XMLHttpRequest,s=new e(function(a,b){var c=function(a){return function(){b(new Error(a))}};r.onabort=c("abort"),r.onerror=c("error"),r.ontimeout=c("timeout"),r.onreadystatechange=function(){if(4===r.readyState){var c=1223===r.status?204:r.status,d=r.responseText;c>=200&&300>c||304===c?a(d):b(new Error(r.statusText))}},r.open(f,j,!0),r.timeout=k.timeout||d.defaults.timeout,Object.keys(q).forEach(function(a){var b=q[a];null!=b&&r.setRequestHeader(a,String(b))}),n&&(n in i?(r.responseType=n,n=i[n]):r.overrideMimeType&&r.overrideMimeType(n)),r.send(o)});return s[0]=r,s}var e=window.Promise,f=Object.prototype.toString,g=function(a){return a&&"[object Object]"===f.call(a)},h=function(a){return a.join("&").replace(/%20/g,"+")},i={json:b};if(c.forEach(function(a){d[a.toLowerCase()]=function(b,c){return d(a,b,c)}}),d.serialize=function(a){var b,c,d,e,f,g={};a="form"in a?[a]:"elements"in a?a.elements:[],b=0,c=a.length;for(var h;c>b;){h=a[b++];var i=h.name;if(!h.disabled&&i)switch(h.type){case"select-multiple":g[i]=[];case"select-one":f=h.options,d=0,e=f.length;for(var j;e>d;)j=f[d++],j.selected&&(i in g?g[i].push(j.value):g[i]=j.value);d=e=f=void 0;break;case void 0:case"fieldset":case"file":case"submit":case"reset":case"button":break;case"checkbox":if(h.checked&&g[i]){"string"==typeof g[i]&&(g[i]=[g[i]]),g[i].push(h.value);break}case"radio":if(!h.checked)break;default:g[i]=h.value}}return g},d.defaults={timeout:15e3,cacheBurst:"_",charset:"UTF-8",headers:{"X-Requested-With":"XMLHttpRequest"}},e)return d;throw new Error("In order to use XHR you have to include a Promise polyfill")}("Content-Type","application/json",["GET","POST"]),f.bind("ajax",function(a,b){a.stopPropagation(),a.preventDefault(),console.log("Ajax: "+this.href)});var g=d.createElement("div");g.style.cssText="position:absolute;width:1.5em;height:1em;left;-2em;top:-2em;transition:font-size 1ms linear",e.getElementsByTagName("body")[0].appendChild(g);var h=g.getBoundingClientRect(),i=h.bottom-h.top,j=h.right-h.left;console.log(i),console.log(j);for(var k=e.querySelectorAll(".content > *"),l=0;l<k.length;l++)b(k[l],j);g.addEventListener("transitionend",function(a){var c=a.target,d=c.getBoundingClientRect(),f=d.bottom-d.top,g=d.right-d.left;console.log("changed fontsize:"+f+":"+g);for(var h=e.querySelectorAll(".content > *"),i=0;i<h.length;i++)b(h[i],g)},!1)}();